@require("./ionicons.css")

/////////////////////////
///      COLORS       ///
/////////////////////////

primary = rgb(82, 160, 154)
secondary = rgb(77, 98, 192)
tertiary = rgb(101, 158, 140)

neutral = #f0f0f0
neutral-dark = rgb(20, 20, 20)


fixed-background()
  background-color: primary
  background-attachment: fixed, fixed, fixed
  background-image:
    url("/images/stripes.svg"),
    linear-gradient(
      45deg,
      transparentify(tertiary, 0.7) 7%,
      transparentify(primary, 0.7) 33%,
      transparentify(secondary, 0.7)
      ),
    url("/images/texture-block.png")
  background-size: cover, auto, auto


////////////////////////
///      MEDIA       ///
////////////////////////

media_queries = {
  mobile: "only screen and (max-width: 800px)",
  tablet: "only screen and (min-width: 801px) and (max-width: 1023px)",
  desktop: "only screen and (min-width: 1024px) and (max-width: 1439px)",
  wide: "only screen and (min-width: 1440px)"
}

for_breakpoint(breakpoints)
  conditions = ()
  for breakpoint in breakpoints
    push(conditions, media_queries[breakpoint])
  conditions = join(", ", conditions)
  @media conditions
    {block}

// Example usage:
//
//   +for_breakpoint(mobile tablet)
//     .hide-for-mobile
//       display none
//


/////////////////////////
///      STYLES       ///
/////////////////////////

*
  box-sizing: border-box

body
  font-family: Lato
  font-weight: 300
  font-size: 22px

  fixed-background()

.header
  background-color: transparentify(neutral-dark, 0.7)
  color: neutral
  display: flex
  justify-content: center
  font-size: 0.7em
  letter-spacing: 2px
  text-transform: uppercase
  box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2)

  margin-bottom: 12px
  padding: 4px

  position: fixed
  z-index: 5
  top: 0
  width: 100%

  a
    padding: 8px 12px
    font-weight: 300
    font-size: 0.9em
    white-space: nowrap

h1, h2
  font-family: "Alegreya Sans SC"
  font-weight: 700

h1
  font-size: 64px
  letter-spacing: 4px
  
h2
  font-size: 36px
  letter-spacing: 2px
  
h3
  font-size: 28px

h4
  font-size: 22px

a
  font-weight: normal
  color: inherit
  text-decoration: none
  cursor: pointer

.container
  display: flex
  justify-content: center
  
  +for_breakpoint(mobile)
    margin-bottom: 24px

.full-page
  width: 100%
  color: neutral
  display: flex
  flex-direction: column
  align-items: center

  margin-top: 92px

  > *
    margin: 0

footer
  display: flex
  justify-content: center
  font-size: 0.7em

  padding: 64px  
  text-align: center

  color: neutral
  font-weight: 400

  p
    border-top-style: double
    padding: 16px 32px
    border-top-color: rgba(255, 255, 255, 0.3)


.landing
  padding: 64px

  text-align: center
  color: neutral

  margin-top: 48px

  +for_breakpoint(mobile)
    padding: 64px 0

  > *
    vertical-align: middle

  .logo-wrapper
    display: inline-block

  .logo
    width: 160px
    filter: drop-shadow(8px 8px 12px rgba(0, 0, 0, 0.4))

    path
      fill: neutral
    
  .landing-header
    display: inline-block
    text-shadow: 8px 8px 12px rgba(0, 0, 0, 0.4)

    +for_breakpoint(mobile)
      width: 100%
      display: flex
      flex-direction: column

    +for_breakpoint(tablet desktop wide)
      padding-left: 80px

    h1
      +for_breakpoint(mobile)
        font-size: 12vw
        margin: 4vh 0

    .subtitle
      margin-top: -46px
      font-size: 24px
      
      +for_breakpoint(mobile)
       margin-top: -40px

.cta
  display: inline-block
  padding: 8px 16px
  margin: 6px 9px

  border-style: solid
  border-width: 2px
  border-radius: 4px
  
  font-weight: 400
  font-size: 18px
  text-decoration: none
  color: inherit
  text-align: center

  user-select: none

  &:hover
    background-color: transparentify(neutral, 0.2)

body > section
  display: flex
  padding: 64px

  margin: 0 12vw

  +for_breakpoint(mobile)
    margin: 0
    padding: 24px 24px 48px 24px

  > *
    display: inline-block

  .content
    width: 100%

    h2
      text-align: center

  background-color: neutral
  color: neutral-dark
  
  &.glass 
    background-color: transparent
    color: neutral

.module-system
  display: flex
  align-items: center

  aside
    flex: 0 1 400px
    margin-right: 64px

.bullet-points
  display: flex
  flex-wrap: wrap

.bullet-point
  display: flex

  flex: 1 1 20%
  flex-direction: column
  align-items: center
  justify-content: flex-start

  padding: 24px
  margin: 4px
  text-align: center

  fixed-background()
  border-radius: 6px
  border-color: neutral
  border-width: 4px
  border-style: double

  color: neutral

  +for_breakpoint(mobile)
    padding: 48px

  h3
    margin: 0 0 12px 0

  .illustration
    padding: 32px
    border-radius: 64px
    
    svg
      width: 120px
      height: 120px

  .blurb
    font-size: 0.9em
    padding-bottom: 32px

.glass
  text-shadow: 0 0 12px rgba(0, 0, 0, 0.4)

.split
  display: flex
  
  +for_breakpoint(mobile tablet desktop)
    flex-direction: column

  .block
    flex: 0 1 50%
    display: flex
    margin-right: 24px
    flex-direction: column
    justify-content: center

    p
      margin-top: 0

    &.fit
      margin-right: 0
      flex: 1 0 auto

      +for_breakpoint(mobile tablet desktop)
          display: flex
          justify-content: center
          align-items: center

    +for_breakpoint(mobile)
      flex-basis: 100%

.console
  font-size: 12px
  background-color: rgba(30, 30, 30, 0.9)
  padding: 24px
  border-radius: 6px
  text-shadow: none
  color: neutral

  .glass &
    background-color: rgba(30, 30, 30, 0.4)

  +for_breakpoint(mobile)
    max-width: 100%

.interactive-docs
  position: relative
  width: 100%

  svg
    // `filter` would be valid here, but it performs poorly in Firefox
    -webkit-filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.4))

  .status-bar-wrapper
    padding: 6px
    background-color: neutral-dark

  .status-bar
    color: white
    text-align: right
    font-weight: 300
    font-size: 0.7em

  .visualization
    margin-bottom: -6px

  .doc-wrapper
    padding: 32px 48px
    
    h2
      margin: 0 0 8px 0
    
    th, td
      padding: 4px 12px
    table
      border-collapse: collapse;

    table td, table th
      border: 1px solid black;

    table tr:first-child th
      border-top: 0;

    table tr:last-child td
      border-bottom: 0;

    table tr td:first-child,
    table tr th:first-child
      border-left: 0;

    table tr td:last-child,
    table tr th:last-child
      border-right: 0;


.interactive
  padding: 0
  margin: 0 calc(64px + 12vw)

path.graph-arc:hover
  opacity: 0.5
  
